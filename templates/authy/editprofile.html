{% extends "authy/base.html" %}

{% block content %}
<div style="max-width: 600px; margin: 40px auto; padding: 20px;">
    <h2>Edit Profile</h2>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <label for="bio">Bio:</label><br>
        <textarea name="bio" rows="4" style="width: 100%;">{{ profile.bio }}</textarea><br><br>

        <label for="date_of_birth">Date of Birth:</label><br>
        <input type="date" name="date_of_birth" value="{{ profile.date_of_birth }}" style="width: 100%;"><br><br>

        <label for="phone_no">Phone Number:</label><br>
        <input type="text" name="phone_no" maxlength="10" value="{{ profile.phone_no }}" style="width: 100%;"><br><br>

        <label for="address">Address:</label><br>
        <input type="text" name="address" value="{{ profile.address }}" style="width: 100%;"><br><br>

        <label for="email_field">Email:</label><br>
        <input type="email" name="email_field" value="{{ profile.email_field }}" style="width: 100%;"><br><br>

        <label for="gender">Gender:</label><br>
        <select name="gender" style="width: 100%;">
    {% for key, label in profile.TypeChoices.choices %}
        <option value="{{ key }}" {% if profile.gender == key %}selected{% endif %}>{{ label }}</option>
    {% endfor %}
</select><br><br>

        <label>Current Profile Image:</label><br>
        {% if profile.profile_image %}
            <img src="{{ profile.profile_image.url }}" alt="Profile Image" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;"><br>
        {% else %}
            <p>No profile image uploaded.</p>
        {% endif %}<br>

        <label for="profile_image">Change Profile Image:</label><br>
        <input type="file" name="profile_image"><br><br>

        <button type="submit" style="padding: 10px 20px;">Save Changes</button>
    </form>
</div>
{% endblock %}